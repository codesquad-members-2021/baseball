(this.webpackJsonpfe=this.webpackJsonpfe||[]).push([[0],{34:function(e,t,r){},35:function(e,t,r){},36:function(e,t,r){},45:function(e,t,r){"use strict";r.r(t);var n,c,a,i,o,s,l,u,j,d,b,h,p,O,m,x,f,y,g,v,S,T,A,L,k,w=r(1),B=r.n(w),H=r(26),I=r.n(H),N=(r(34),r(12)),C=r(20),E=r(5),P=(r(35),r(36),r(3)),R=r(10),M=r(4),J=r(0),Q=function(){return Object(J.jsx)("h1",{children:"BASEBALL GAME ONLINE"})},D=function(){return Object(J.jsx)("h3",{children:"\ucc38\uac00\ud560 \uac8c\uc784\uc744 \uc120\ud0dd\ud558\uc138\uc694!"})},F=r(11),G=r.n(F),z=r(14),V={strike:"\uc2a4\ud2b8\ub77c\uc774\ud06c",ball:"\ubcfc",hit:"\uc548\ud0c0"},Y=function(e){return e>=2},q=function(e){return e>=2},K=function(e){return e>=3},U=function(e){return JSON.parse(JSON.stringify(e))},W=function(e){return"http://52.78.64.148/api/game/".concat(e)},X=function(e,t){e.forEach((function(e){return t(e)}))},Z=function(){var e=Object(z.a)(G.a.mark((function e(t,r,n){var c,a,i,o,s,l,u,j,d=arguments;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(r),e.next=3,fetch(t,{method:"post",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(r)});case 3:return c=e.sent,e.next=6,c.json();case 6:for(a=e.sent,localStorage.setItem("matchId",a.matchId),i=a.expeditionTeam,o=a.homeTeam,console.log(i),"\ucd08"===a.inning.cycle&&n({type:"currAttackTeam",team:U(i)}),"\ub9d0"===a.inning.cycle&&n({type:"currAttackTeam",team:U(o)}),s=d.length,l=new Array(s>3?s-3:0),u=3;u<s;u++)l[u-3]=d[u];j=[].concat(l,[{type:"homeTeam",team:U(o)},{type:"expeditionTeam",team:U(i)},{type:"currPitcher",role:a.pitcher.role,name:a.pitcher.name,pitchCount:a.pitcher.pitchCount},{type:"currHitter",role:a.hitter.role,playerBattingOrder:a.nextHitter.playerBattingOrder,teamId:a.nextHitter.teamId,historyList:U(a.nextHitter.historyList),name:a.hitter.name,plateAppearances:a.hitter.plateAppearances,hits:a.hitter.hits,lastAction:null},{type:"currInning",currInning:U(a.inning)},{type:"currTeamLog",currTeamLog:U(a.teamLog.playerLog)},{type:"isResponseDone"}]),X(j,n);case 15:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),$=function(e){var t=e.teamSet,r=Object(w.useContext)(Ve).dispatch,n=function(){var e=Object(z.a)(G.a.mark((function e(n,c,a){var i,o,s;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=a?t[0].id:t[1].id,o=t[a?0:1].name,s=1===a,Z(W("/"),{myTeamId:c,counterTeamId:i,isHome:s},r,{type:"myTeam",id:c,name:n},{type:"counterTeam",id:i,name:o}),localStorage.setItem("selectedTeams",JSON.stringify({myTeam:c,counterTeam:i}));case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}();return Object(J.jsx)("div",{children:t.map((function(e,t){return Object(J.jsx)(C.b,{to:"/baseballGame",onClick:function(){return n(e.name,e.id,t)},children:e.name})}))})},_=function(){var e=Object(w.useState)([]),t=Object(N.a)(e,2),r=t[0],n=t[1];return Object(w.useEffect)((function(){fetch(W("/teams")).then((function(e){return e.json()})).then((function(e){var t=function(e){for(var t=[],r=[];e.length;){if(r.length<2){var n=parseInt(Math.random()*e.length);r.push(e[n]),e.splice(n,1)}r.length>=2&&(t.push(r),r=[])}return t}(e);n(t)}))}),[]),Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(Q,{}),Object(J.jsx)(D,{}),Object(J.jsx)(ee,{children:r.length>0&&Object(R.a)(r).map((function(e){return Object(J.jsx)($,{teamSet:e})}))})]})},ee=M.a.div(n||(n=Object(P.a)(["\n  border: 1px solid red;\n  display: flex;\n  flex-direction: column;\n"]))),te=function(e){var t=e.inning;return Object(J.jsx)(re,{children:Object(J.jsx)("p",{children:"".concat(t.inningNumber,"\ud68c").concat(t.cycle," ").concat(t.role)})})},re=M.a.div(c||(c=Object(P.a)(["\n  width: 150px;\n  text-align: center;\n"]))),ne=r(2),ce=K,ae=function(e,t,r,n,c){var a,i=r.currS,o=r.currB,s=r.currO;if(c({type:"currB",init:!1,payload:1}),!ce(o))return a=Object(ne.a)(Object(ne.a)({},n),{},{historyList:n.historyList.concat({id:n.historyList.length+1,actionName:"ball",strike:i,ball:o+1,out:s})}),void c(Object(ne.a)({type:"currHitter"},a));alert("\ubcfc\ub137\uc784\ub2e4~"),a=Object(ne.a)(Object(ne.a)({},n),{},{plateAppearances:n.plateAppearances+1,lastAction:"\ubcfc\ub137",historyList:n.historyList.concat({id:n.historyList.length+1,actionName:"ball",strike:i,ball:o+1,out:s})}),c(Object(ne.a)({type:"currHitter"},a));for(var l=arguments.length,u=new Array(l>5?l-5:0),j=5;j<l;j++)u[j-5]=arguments[j];u.forEach((function(e){return e()}))},ie=function(e,t,r,n,c){var a=r.currS,i=r.currB,o=r.currO;c({type:"currH",init:!1,payload:1});var s=Object(ne.a)(Object(ne.a)({},n),{},{plateAppearances:n.plateAppearances,hits:n.hits+1,lastAction:"\uc548\ud0c0",historyList:n.historyList.concat({id:n.historyList.length+1,actionName:"hit",strike:a,ball:i,out:o})});c(Object(ne.a)({type:"currHitter"},s));for(var l=arguments.length,u=new Array(l>5?l-5:0),j=5;j<l;j++)u[j-5]=arguments[j];u.forEach((function(e){return e()}))},oe=q,se=function(e,t,r){var n=e.currS,c=e.currB,a=e.currO;r({type:"currO",init:!1,payload:1});var i=Object(ne.a)(Object(ne.a)({},t),{},{plateAppearances:t.plateAppearances+1,lastAction:"\uc544\uc6c3",historyList:t.historyList.concat({id:t.historyList.length+1,actionName:"out",strike:n+1,ball:c,out:a+1})});r(Object(ne.a)({type:"currHitter"},i)),oe(a)&&(alert("\ud300 \uad50\uccb4\ud568\ub2e4~"),r({type:"currO",init:!0}));for(var o=arguments.length,s=new Array(o>3?o-3:0),l=3;l<o;l++)s[l-3]=arguments[l];s.forEach((function(e){return e()}))},le=Y,ue=function(e,t,r){var n=e.currS,c=e.currB,a=e.currO;if(le(n)){for(var i=arguments.length,o=new Array(i>3?i-3:0),s=3;s<i;s++)o[s-3]=arguments[s];se.apply(void 0,[e,t,r].concat(o))}else{r({type:"currS",init:!1,payload:1});var l=Object(ne.a)(Object(ne.a)({},t),{},{historyList:t.historyList.concat({id:t.historyList.length+1,actionName:"strike",strike:n+1,ball:c,out:a})});r(Object(ne.a)({type:"currHitter"},l))}},je=function(e){var t=Object(w.useContext)(Ve),r=t.globalState,n=t.dispatch,c=r.currHitter,a=r.currS,i=r.currB,o=r.currO,s=r.currH,l=(r.expeditionTeam,r.homeTeam,r.currAttackTeam),u=r.diamondQueue;Object(w.useEffect)((function(){var e={currHitter:c,S:a,B:i,O:o,H:s};localStorage.setItem("currHitter",JSON.stringify(e))}),[a,i,s,o]);var j=function(){n({type:"currS",init:!0}),n({type:"currB",init:!0})},d=function(e){var t=localStorage.getItem("matchId"),r=l.totalScore,a=Object(R.a)(u);"\uc548\ud0c0"!==e&&"\ubcfc\ub137"!==e||(a.push(c),a.length>3&&(a.shift(),r++,n({type:"currAttackTeam",team:Object(ne.a)(Object(ne.a)({},l),{},{totalScore:l.totalScore+1})}))),n({type:"diamondQueue",diamondQueue:a}),Z(W("/".concat(t,"/exchange")),{playerBattingOrder:c.playerBattingOrder,teamId:c.teamId,playerName:c.name,historyList:c.historyList,lastAction:e,totalTeamScore:r},n)};return Object(J.jsxs)(de,{children:[Object(J.jsx)("div",{children:"\ub2e4\uc774\uc544\ubaac\ub4dc \uacbd\uae30\uc7a5\uc744 \ub123\uc744 \uac70\uc784"}),Object(J.jsx)("button",{onClick:function(){var e=r.currPitcher,t=["strike","strike","strike"],s=t[parseInt(Math.random()*t.length)];alert("\uacb0\uacfc: ".concat(s));var b=Object(ne.a)({},e);b.pitchCount++,n(Object(ne.a)({type:"currPitcher"},b)),"strike"!==s?"ball"!==s?"hit"===s&&(alert("\uc120\uc218 \uad50\uccb4\ud568\ub2e4~"),ie(u,l,{currS:a,currB:i,currO:o},c,n,j,(function(){return d("\uc548\ud0c0")}))):ae(u,l,{currS:a,currO:o,currB:i},c,n,j,(function(){return d("\ubcfc\ub137")})):ue({currS:a,currB:i,currO:o},c,n,j,(function(){return d("\uc544\uc6c3")}))},children:"pitch"})]})},de=M.a.div(a||(a=Object(P.a)(["\n  width: 100%;\n"]))),be=function(e){var t=Object(w.useContext)(Ve).globalState,r=t.currS,n=t.currB,c=t.currO;return Object(J.jsxs)("ul",{children:[Object(J.jsxs)(he,{children:[Object(J.jsx)(pe,{children:"S"}),Object(J.jsx)(Oe,{children:Array.from({length:r}).map((function(){return"\ud83d\udfe1"}))})]}),Object(J.jsxs)(he,{children:[Object(J.jsx)(pe,{children:"B"}),Object(J.jsx)(Oe,{children:Array.from({length:n}).map((function(){return"\ud83d\udfe2"}))})]}),Object(J.jsxs)(he,{children:[Object(J.jsx)(pe,{children:"O"}),Object(J.jsx)(Oe,{children:Array.from({length:c}).map((function(){return"\ud83d\udd34"}))})]})]})},he=M.a.li(i||(i=Object(P.a)(["\n  display: flex;\n  & div {\n    height: 20px;\n  }\n"]))),pe=M.a.div(o||(o=Object(P.a)(["\n  width: 20px;\n  text-align: center;\n"]))),Oe=M.a.div(s||(s=Object(P.a)(["\n  width: 80px;\n"]))),me=function(e){var t=e.playerRole,r=Object(w.useContext)(Ve).globalState,n=r.currHitter,c=r.currPitcher;return Object(J.jsxs)("div",{children:[Object(J.jsx)("div",{children:t}),Object(J.jsxs)("div",{children:[Object(J.jsx)("span",{children:"\ud22c\uc218"===t?c.name:n.name}),Object(J.jsx)("span",{children:"\ud22c\uc218"===t?"#".concat(c.pitchCount):"".concat(n.plateAppearances,"\ud0c0\uc11d ").concat(n.hits,"\uc548\ud0c0")})]})]})},xe=function(e){var t=e.popupState,r=Object(w.useContext)(Ve).globalState,n=r.currAttackTeam,c=r.expeditionTeam;if(0===t.length)return Object(J.jsx)(J.Fragment,{});var a,i=t.map((function(e){var t=Array(15).fill(""),r=0;return e.teamGameScore.forEach((function(e,n){t[n+2]=e.score,r+=e.score})),t[1]=e.teamName,t[t.length-1]=r,t})),o=Object(N.a)(i,2),s=o[0],l=o[1];return a=c,n.name===a.name?s[0]="\u26be\ufe0f":l[0]="\u26be\ufe0f",Object(J.jsx)(fe,{children:Object(J.jsxs)(ye,{children:[["","",1,2,3,4,5,6,7,8,9,10,11,12,"R"].map((function(e,t){return Object(J.jsx)(ge,{border:t>=2,children:e})})),s.map((function(e,t){return Object(J.jsx)(ve,{color:t===s.length-1&&"red",weight:t>=2,align:0===t,children:e})})),l.map((function(e,t){return Object(J.jsx)(ve,{color:t===s.length-1&&"red",weight:t>=2,align:0===t,children:e})}))]})})},fe=M.a.div(l||(l=Object(P.a)(["\n  width: 1000px;\n  height: 170px;\n  padding: 25px 60px;\n  box-sizing: border-box;\n  border: 3px solid white;\n"]))),ye=M.a.div(u||(u=Object(P.a)(["\n  display: grid;\n  grid-template-columns: 1fr 2fr repeat(13, 1fr);\n  /* gap: 5px; */\n"]))),ge=M.a.div(j||(j=Object(P.a)(["\n  color: #fff;\n  /* outline: 1px solid gold; */\n  text-align: center;\n\n  font-size: 1.6rem;\n  font-weight: 900;\n  border-bottom: ",";\n  padding-bottom: 5px;\n"])),(function(e){return e.border&&"3px solid #fff"})),ve=M.a.div(d||(d=Object(P.a)(["\n  color: ",";\n  text-align: ",";\n  font-size: 1.6rem;\n  font-weight: ",";\n  padding-top: 15px;\n"])),(function(e){return e.color||"#fff"}),(function(e){return e.align?"right":"center"}),(function(e){return e.weight?"900":"600"})),Se=function(e){var t=e.flag,r=e.history,n=Object(w.useContext)(Ve).globalState.currHitter;return Object(J.jsx)(Te,{children:"currPlayer"===t?Object(J.jsxs)(Le,{children:[Object(J.jsxs)("div",{children:[n.playerBattingOrder,"\ubc88 \ud0c0\uc790 ",n.name]}),Object(J.jsx)(Ae,{children:n.historyList.length>0&&Object(R.a)(n.historyList).map((function(e,t){return Object(J.jsxs)("li",{children:[Object(J.jsx)("span",{children:t+1}),Object(J.jsx)("span",{children:V[e.actionName]}),Object(J.jsxs)("span",{children:["S",e.strike," B",e.ball]})]})}))})]}):Object(J.jsxs)(ke,{children:[Object(J.jsxs)("div",{children:[r.playerBattingOrder,"\ubc88 \ud0c0\uc790 ",r.playerName]}),Object(J.jsx)("div",{children:r.lastAction}),Object(J.jsx)(Ae,{children:r.historyList.length>0&&Object(R.a)(r.historyList).map((function(e,t){return Object(J.jsxs)("li",{children:[Object(J.jsx)("span",{children:t+1}),Object(J.jsx)("span",{children:V[e.actionName]}),Object(J.jsxs)("span",{children:["S",e.strike," B",e.ball]})]})}))})]})})},Te=M.a.div(b||(b=Object(P.a)([""]))),Ae=M.a.ul(h||(h=Object(P.a)(["\n  display: flex;\n  flex-direction: column-reverse;\n"]))),Le=M.a.div(p||(p=Object(P.a)(["\n  border: 1px solid blue;\n"]))),ke=M.a.div(O||(O=Object(P.a)(["\n  border: 1px solid red;\n"]))),we=function(e){return Object(J.jsx)("div",{children:"\uc120\uc218 \uba85\ub2e8 \ud31d\uc5c5"})},Be=function(e){var t=e.isMyTeam,r=e.isHome,n=e.team;return Object(J.jsxs)(He,{isHome:r,children:[Object(J.jsx)("p",{children:n.totalScore}),Object(J.jsxs)("div",{children:[Object(J.jsx)("p",{children:n.name}),t&&Object(J.jsx)("p",{children:"myteam"})]})]})},He=M.a.div(m||(m=Object(P.a)(["\n  display: flex;\n  flex-direction: ",";\n"])),(function(e){return!e.isHome&&"row-reverse"})),Ie=function(){var e=Object(w.useContext)(Ve).globalState,t=e.myTeam,r=e.homeTeam,n=e.expeditionTeam,c=e.currInning,a=e.currTeamLog,i=e.isResponseDone,o=Object(w.useState)([]),s=Object(N.a)(o,2),l=s[0],u=s[1],j=function(){var e=Object(z.a)(G.a.mark((function e(t,r){var n,c,a,i,o,s;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target,c=localStorage.getItem("matchId"),a=W("/".concat(c,"/record/").concat(r?"teams":"players")),i="translateY(".concat(r?880:-880,"px)"),e.next=6,fetch(a);case 6:return o=e.sent,e.next=9,o.json();case 9:s=e.sent,u(s),n.style.transform=i,n.style.background="rgba(0, 0, 0, 0.9)";case 13:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();return Object(J.jsx)(J.Fragment,{children:i?Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(Ne,{children:[Object(J.jsxs)(Ce,{children:[Object(J.jsxs)(Pe,{children:[Object(J.jsx)(Q,{}),Object(J.jsxs)(Ee,{children:[Object(J.jsx)(Be,{isMyTeam:t.name===n.name,isHome:!1,team:n}),Object(J.jsx)("span",{children:"VS"}),Object(J.jsx)(Be,{isMyTeam:t.name===r.name,isHome:!0,team:r})]})]}),Object(J.jsxs)(Re,{children:[Object(J.jsx)(be,{}),Object(J.jsx)(je,{}),Object(J.jsx)(te,{inning:c})]})]}),Object(J.jsxs)(Me,{children:[Object(J.jsxs)(Je,{children:[Object(J.jsx)(me,{playerRole:"\ud22c\uc218"}),Object(J.jsx)(me,{playerRole:"\ud0c0\uc790"})]}),Object(J.jsxs)(Qe,{children:[Object(J.jsx)(Se,{flag:"currPlayer"}),a.length>0&&Object(R.a)(a).reverse().map((function(e){return Object(J.jsx)(Se,{flag:"pastPlayer",history:e})}))]})]}),Object(J.jsx)(De,{onMouseEnter:function(e){return j(e,!0)},children:Object(J.jsx)(xe,{popupState:l})}),Object(J.jsx)(Fe,{children:Object(J.jsx)(we,{})})]})}):Object(J.jsx)("div",{children:"Loading"})})},Ne=M.a.section(x||(x=Object(P.a)(["\n  display: flex;\n  width: 1200px;\n  height: 900px;\n  border: 1px solid red;\n  & div {\n    /* border: 1px solid black; */\n  }\n  position: relative;\n"]))),Ce=M.a.div(f||(f=Object(P.a)(["\n  display: flex;\n  width: 80%;\n  flex-direction: column;\n  border: 1px solid black;\n"]))),Ee=M.a.div(y||(y=Object(P.a)(["\n  display: flex;\n  border: 1px solid black;\n"]))),Pe=M.a.div(g||(g=Object(P.a)(["\n  height: 200px;\n  border: 1px solid black;\n  // width: 80%;\n"]))),Re=M.a.div(v||(v=Object(P.a)(["\n  // width: 80%;\n  height: 700px;\n  display: flex;\n  justify-content: space-between;\n  border: 1px solid black;\n"]))),Me=M.a.div(S||(S=Object(P.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 20%;\n  border: 1px solid black;\n"]))),Je=M.a.div(T||(T=Object(P.a)(["\n  height: 200px;\n  // width: 20%;\n  border: 1px solid black;\n"]))),Qe=M.a.div(A||(A=Object(P.a)(["\n  // width: 20%;\n  height: 700px;\n  border: 1px solid black;\n"]))),De=M.a.section(L||(L=Object(P.a)(["\n  width: 1200px;\n  height: 900px;\n  padding-top: 20px;\n  display: flex;\n  justify-content: center;\n  position: absolute;\n  top: -880px;\n  transition: 500ms;\n  // top: 0;\n"]))),Fe=M.a.section(k||(k=Object(P.a)(["\n  border: 1px solid blue;\n  width: 1200px;\n  height: 500px;\n  position: absolute;\n  bottom: -450px;\n"]))),Ge={myTeam:null,counterTeam:null,homeTeam:null,expeditionTeam:null,currInning:null,currPitcher:null,currHitter:null,currTeamLog:null,currS:0,currB:0,currH:0,currO:0,isResponseDone:!1,currAttackTeam:null,diamondQueue:[]};function ze(e,t){switch(t.type){case"myTeam":return Object(ne.a)(Object(ne.a)({},e),{},{myTeam:{id:t.id,name:t.name}});case"counterTeam":return Object(ne.a)(Object(ne.a)({},e),{},{counterTeam:{id:t.id,name:t.name}});case"homeTeam":return Object(ne.a)(Object(ne.a)({},e),{},{homeTeam:t.team});case"expeditionTeam":return Object(ne.a)(Object(ne.a)({},e),{},{expeditionTeam:t.team});case"currInning":return Object(ne.a)(Object(ne.a)({},e),{},{currInning:t.currInning});case"currPitcher":return Object(ne.a)(Object(ne.a)({},e),{},{currPitcher:{role:t.role,name:t.name,pitchCount:t.pitchCount}});case"currHitter":return Object(ne.a)(Object(ne.a)({},e),{},{currHitter:{role:t.role,playerBattingOrder:t.playerBattingOrder,teamId:t.teamId,historyList:t.historyList,name:t.name,plateAppearances:t.plateAppearances,hits:t.hits,lastAction:t.lastAction}});case"currTeamLog":return Object(ne.a)(Object(ne.a)({},e),{},{currTeamLog:t.currTeamLog});case"currS":return Object(ne.a)(Object(ne.a)({},e),{},{currS:t.init?0:e.currS+t.payload});case"currB":return Object(ne.a)(Object(ne.a)({},e),{},{currB:t.init?0:e.currB+t.payload});case"currH":return Object(ne.a)(Object(ne.a)({},e),{},{currH:t.init?0:e.currH+t.payload});case"currO":return Object(ne.a)(Object(ne.a)({},e),{},{currO:t.init?0:e.currO+t.payload});case"isResponseDone":return Object(ne.a)(Object(ne.a)({},e),{},{isResponseDone:!0});case"currAttackTeam":return Object(ne.a)(Object(ne.a)({},e),{},{currAttackTeam:t.team});case"diamondQueue":return Object(ne.a)(Object(ne.a)({},e),{},{diamondQueue:t.diamondQueue})}}var Ve=B.a.createContext();var Ye=function(){var e=Object(w.useReducer)(ze,Ge),t=Object(N.a)(e,2),r={teamInfo:{globalState:t[0],dispatch:t[1]}};return Object(J.jsx)(Ve.Provider,{value:r.teamInfo,children:Object(J.jsx)(C.a,{children:Object(J.jsxs)(E.c,{children:[Object(J.jsx)(E.a,{exact:!0,path:"/",children:Object(J.jsx)(_,{})}),Object(J.jsx)(E.a,{path:"/baseballGame",children:Object(J.jsx)(Ie,{})})]})})})};I.a.render(Object(J.jsx)(B.a.StrictMode,{children:Object(J.jsx)(Ye,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.166dbeef.chunk.js.map